/*
 wwww.tigir.com (аДаАбаА аПаОбаЛаЕаДаНаЕаЙ аМаОаДаИбаИаКаАбаИаИ - 30.11.2007)
 ааИаБаЛаИаОбаЕаКаА linkedselect.js аИаЗ ббаАббаИ "Javascript SELECT - аДаИаНаАаМаИбаЕбаКаИаЕ баПаИбаКаИ" - http://www.tigir.com/linked_select.htm

 syncList - "аКаЛаАбб" баВбаЗаАаНаНбб баПаИбаКаОаВ
 */
function syncList(){} //ааПбаЕаДаЕаЛбаЕаМ ббаНаКбаИб аКаОаНббббаКбаОб

//ааПбаЕаДаЕаЛбаЕаМ аМаЕбаОаДб

//ааЕбаОаД sync() - аПбаИаНаИаМаАаЕб баПаИбаОаК аИаЗ аЗаНаАбаЕаНаИаЙ аАббаИаБббаОаВ id баЛаЕаМаЕаНбаОаВ SELECT, аОаБбаАаЗбббаИб баВбаЗаАаНаНбаЙ баПаИбаОаК аИ аЗаАаПббаКаАаЕб аИб баИаНббаОаНаИаЗаАбаИб
syncList.prototype.sync = function()
{
    //ааЕбаЕаБаИбаАаЕаМ аАбаГбаМаЕаНбб (id баЛаЕаМаЕаНбаОаВ SELECT) аИ аНаАаЗаНаАбаАаЕаМ баОаБббаИбаМ onChange баЕаЛаЕаКбаОаВ, б баОаОбаВаЕбббаВбббаИаМаИ id, ббаНаКбаИб-аОаБбаАаБаОббаИаК.
    //а аКаАбаЕббаВаЕ аОаБбаАаБаОббаИаКаА аВббббаПаАаЕб аВбаОбаОаЙ аМаЕбаОаД аОаБбаЕаКбаА syncList - _sync (аНаАаПббаМбб аЕаГаО аВбаЗбаВаАбб аНаЕ аНбаЖаНаО)
    //ааБбаАаБаОббаИаК аНаАаЗаНаАбаАаЕббб аВбаЕаМ баЛаЕаМаЕаНбаАаМ SELECT аКбаОаМаЕ аПаОбаЛаЕаДаНаЕаГаО аВ баПаИбаКаЕ аАбаГбаМаЕаНбаОаВ, б.аК. аПаОбаЛаЕаДаНаИаЙ аНаЕ аВаЛаИбаЕб аНаИ аНаА аКаАаКаОаЙ аДббаГаОаЙ баЛаЕаМаЕаНб SELECT аИ б аНаИаМ аНаЕ аНбаЖаНаО баИаНббаОаНаИаЗаИбаОаВаАбббб.
    for (var i=0; i < arguments.length-1; i++)	document.getElementById(arguments[i]).onchange = (function (o,id1,id2){return function(){o._sync(id1,id2);};})(this, arguments[i], arguments[i+1]);
    document.getElementById(arguments[0]).onchange();//аЗаАаПббаКаАаЕаМ аОаБбаАаБаОббаИаК onchange аПаЕбаВаОаГаО баЕаЛаЕаКбаА, ббаОаБб аПбаИ аЗаАаГббаЗаКаЕ бббаАаНаИбб аЗаАаПаОаЛаНаИбб аДаОбаЕбаНаИаЕ баЕаЛаЕаКбб аЗаНаАбаЕаНаИбаМаИ.
}
//баЛбаЖаЕаБаНбаЙ аМаЕбаОаД _sync - ббаАаБаАббаВаАаЕб аПбаИ баМаЕаНаЕ аВбаБбаАаНаНаОаГаО баЛаЕаМаЕаНбаА аВ баЕаКббаЕаМ (ббаАббаЕаМ) баЛаЕаМаЕаНбаЕ SELECT (аПаО аЕаГаО баОаБббаИб onChange) аИ аИаЗаМаЕаНбаЕб баОаДаЕбаЖаИаМаОаЕ аЗаАаВаИбаИаМаОаГаО баЕаЛаЕаКбаА аНаА аОбаНаОаВаАаНаИаИ аЗаНаАбаЕаНаИб аВбаБбаАаНаНаОаГаО аВ ббаАббаЕаМ баЕаЛаЕаКбаЕ.
syncList.prototype._sync = function (firstSelectId, secondSelectId)
{
    var firstSelect = document.getElementById(firstSelectId);
    var secondSelect = document.getElementById(secondSelectId);

    secondSelect.length = 0; //аОаБаНбаЛбаЕаМ аВбаОбаОаЙ (аПаОаДбаИаНаЕаНаНбаЙ) SELECT

    if (firstSelect.length>0)//аЕбаЛаИ аПаЕбаВбаЙ (ббаАббаИаЙ) SELECT аНаЕ аПббб
    {
        //аИаЗ баВаОаЙббаВаА dataList, б аДаАаНаНбаМаИ аДаЛб аЗаАаПаОаЛаНаЕаНаИб аПаОаДбаИаНаЕаНаНбб баЕаЛаЕаКбаОаВ, аБаЕбаЕаМ бб баАббб аДаАаНаНбб, аКаОбаОбаАб баОаОбаВаЕбббаВбаЕб аИаМаЕаНаНаО аЗаНаАбаЕаНаИб баЛаЕаМаЕаНбаА,
        //аВбаБбаАаНаНаОаГаО аВ аПаЕбаВаОаМ баЕаЛаЕаКбаЕ, аИ аОаПбаЕаДаЕаЛбаЕб баОаДаЕбаЖаИаМаОаЕ аПаОаДбаИаНаЕаНаНаОаГаО баЛаЕаМаЕаНбаА SELECT.
        var optionData = this.dataList[ firstSelect.options[firstSelect.selectedIndex==-1 ? 0 : firstSelect.selectedIndex].value ];
        //аЗаАаПаОаЛаНбаЕаМ аВбаОбаОаЙ (аПаОаДбаИаНаЕаНаНбаЙ) баЕаЛаЕаКб аЗаНаАбаЕаНаИбаМаИ (баОаЗаДаАаЕаМ баЛаЕаМаЕаНбб option)
        for (var key in optionData || null) secondSelect.options[secondSelect.length] = new Option(optionData[key], key);

        //аЕбаЛаИ аВ ббаАббаЕаМ SELECT-аЕ аНаЕб аВбаДаЕаЛаЕаНаНаОаГаО аПбаНаКбаА, аВбаДаЕаЛбаЕаМ аПаЕбаВбаЙ
        if (firstSelect.selectedIndex == -1) setTimeout( function(){ firstSelect.options[0].selected = true;}, 1 );
        //аЕбаЛаИ аВаО аВбаОбаОаМ баПаИбаКаЕ аНаЕб аВбаДаЕаЛаЕаНаНаОаГаО аПбаНаКбаА, аВбаДаЕаЛбаЕаМ аПаЕбаВбаЙ аЕаГаО аПбаНаКб
        if (secondSelect.length>0) setTimeout( function(){ secondSelect.options[0].selected = true;}, 1 );
    }
    //аЕбаЛаИ аВбаОбаОаЙ (аПаОаДбаИаНаЕаНаНбаЙ) баЕаЛаЕаКб аИаМаЕаЕб аВ баВаОб аОбаЕбаЕаДб баВаОаИ аПаОаДбаИаНаЕаНаНбаЕ баЕаЛаЕаКбб (баЕ, аДаЛб аКаОбаОббб аОаН аГаЛаАаВаНбаЙ),
    //баО аЗаАаПббаКаАаЕаМ аЕаГаО аОаБбаАаБаОббаИаК onchange, ббаОаБб аИаЗаМаЕаНаИбб аЕаГаО аПаОаДбаИаНаЕаНаНбаЕ баЕаЛаЕаКбб
    secondSelect.onchange && secondSelect.onchange();
};
